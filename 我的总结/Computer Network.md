# Computer Network

#### 1. 计算机网络中，每一层都会添加额外的数据

1. **传输层比应用层多的数据结构**：
   - **源端口**和**目标端口：**用于标识发送方和接收方的应用程序。
   - **序列号**和**确认号**：用于实现可靠的数据传输。
   - **校验和**：用于检测数据在传输过程中是否被篡改。
2. **网络层比传输层多的数据结构**：
   - **IP地址**：包括源IP地址和目标IP地址，用于标识发送方和接收方的主机。
   - **标识**、**标志**和**片偏移**：用于分片和重组IP数据报。
   - **生存时间（TTL）**：用于防止数据包在网络中无限循环。
3. **数据链路层比网络层多的数据结构**：
   - 目标**MAC地址**和源MAC地址：用于标识发送方和接收方的网卡。
   - **帧起始标志**和**帧结束标志**：用于标识帧的开始和结束。
   - **帧校验序列**：用于检测帧在传输过程中是否出错。
4. **物理层比数据链路层多的数据结构**：
   - 电压、电流或光信号：用于在物理介质上传输数据。
   - **时钟信号**：用于同步发送方和接收方的数据传输速率。
   - **编码方式**：用于将数字数据转换为物理信号以在介质上传输。

#### 2. TCP vs UDP

|      | TCP                          | UDP                                  |
| ---- | ---------------------------- | ------------------------------------ |
|      | 面向连接                     | 无连接                               |
|      | 可靠传输，流量控制和拥塞管理 | 不可靠传输，不使用流量控制和拥塞管理 |
|      | 有序                         | 无序                                 |
|      | 传输速度慢                   | 传输速度快                           |
|      | 只支持一对一                 | 支持一对一、一对多和多对多           |
|      | 面向字节流                   | 面向报文                             |
|      | 首部开销小，固定8字节        | 首部最小20字节，最大60字节           |
|      | 适用于实时场景               | 适用于要求可靠传输的场景             |

- TCP首部结构：

  - **源端口 (16 bits)**：源端口号，标识发送方应用程序。

  - **目标端口 (16 bits)**：目标端口号，标识接收方应用程序。

  - **序列号 (32 bits)**：用于对TCP连接上发送的每个字节进行编号，用于实现可靠的数据传输。

  - **确认号 (32 bits)**：用于确认接收到的数据序列号，表明下一个期望接收的数据序列号。

  - **数据偏移 (4 bits)**：指示TCP首部的长度，以32位字（4字节）为单位，用于确定数据的起始位置。

  - **保留位 (6 bits)**：保留位，暂时没有使用，保留供将来使用。

  - **标志位 (6 bits)**：包括URG、ACK、PSH、RST、SYN和FIN，用于控制TCP连接状态。

  - **窗口大小 (16 bits)**：接收方窗口大小，用于流量控制。

  - **校验和 (16 bits)**：用于检测TCP首部和数据的完整性。

  - **紧急指针 (16 bits)**：当URG标志置位时，指示紧急数据的末尾位置。

  - **选项（最大40 bytes）**：可选字段，如最大段大小、时间戳等，用于提供额外的功能。

- UDP首部结构：

  - **源端口 (16 bits)**：源端口号，标识发送方应用程序。

  - **目标端口 (16 bits)**：目标端口号，标识接收方应用程序。

  - **长度 (16 bits)**：UDP数据报的长度，包括首部和数据部分。

  - **校验和 (16 bits)**：用于检测UDP数据报的完整性。

#### 3. TCP如何实现可靠传输

- 通过**序列号**和**确认应答信号**确保数据不会重复发送和重复接受
- 通过**超时重发**控制保证不出现数据丢失，保证数据完整性
- 通过**滑动窗口**控制提高数据传输效率

#### 4. 流量控制和拥塞控制的区别

- 流量控制的目标是确保发送方和接收方之间数据传输保持适当的速率，以防止接收方无法及时处理和接受数据从而导致**数据丢失**或**溢出**。
- 拥塞控制的目标是确保网络中的数据流量不超过网络的容量，以防止**网络拥塞**和**性能下降**。
- 流量控制主要关注发送方和接收方之间的数据传输速率，以**保持二者之间的平衡**；而拥塞控制则更广泛地关注整个网络中的数据流量，以**避免网络拥塞和性能下降**。

#### 5. 滑动窗口机制

#### 6. 什么是慢开始门限

慢开始：如果立即将大量的数据注入到网络中，可能会出现网络的拥塞。因此不要一开始就发送大量的数据，应**由小到大逐渐增加拥塞窗口的大小**。

